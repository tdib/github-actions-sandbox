name: Android Checks (Workflow)

on:
  workflow_call:
    inputs:
      required_value:
        type: string
        description: Some required value for the Gradle project
        required: true
  workflow_dispatch:

jobs:
  initial-setup:
    name: Initial Setup
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: ./.github/actions/initialise-android

      - run: echo "Doing something"

  unit-tests:
    name: Unit Tests
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: ./.github/actions/initialise-android

      - run: echo "Here"

      - run: echo "required value is $ORG_GRADLE_PROJECT_required_value"

  assemble-debug:
    name: Assemble Debug Variant
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: ./.github/actions/initialise-android

      - run: echo "Assembling debug variant"

      - run: echo "Something else"